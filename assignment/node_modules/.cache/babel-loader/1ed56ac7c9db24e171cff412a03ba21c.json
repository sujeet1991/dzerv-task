{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Desktop/task/dzerv-task/assignment/src/component/organism/Home/index.js\";\nimport React, { useState, useEffect, Fragment } from 'react';\nimport Input from '../../molecules/input';\nimport { emailText, numberText, pwdText } from '../../../helper/method';\nimport { formSubmit, MsgClear } from '../../../store/Action/master';\nimport { useSelector, useDispatch } from 'react-redux';\nimport ApiAll from '../../../services/loginApi';\nimport { withRouter, Redirect } from 'react-router-dom';\nlet api = new ApiAll();\n\nconst Landing = props => {\n  let dispatch = useDispatch();\n  let getState = useSelector(state => state.Auth.userInfo);\n  let getSuccess = useSelector(state => state.Auth.pageSuccess);\n  const [state, setState] = useState({\n    userName: \"\",\n    pwd: \"\",\n    Cpwd: \"\"\n  }); // form state\n\n  const [error, setError] = useState({});\n  const [emailCheck, setEmailCheck] = useState(null); // email or phone number bases on true false\n\n  const [userCheck, setUserCheck] = useState(null); // check existing user\n\n  const [msg, setMsg] = useState(''); // api false msg\n\n  const [apiCall, setApiCall] = useState(false); // form onChange\n\n  const HandlerChange = (name, value) => {\n    let allState = { ...state\n    };\n\n    if (name === \"userName\") {\n      setEmailCheck(null);\n    }\n\n    allState[name] = value;\n    setState(allState);\n  };\n\n  useEffect(() => {\n    console.log(getState, 'getState.userInfo');\n\n    if (getState !== \"\") {\n      setMsg(getState);\n      setTimeout(function () {\n        setMsg('');\n        dispatch(MsgClear(''));\n      }, 1000);\n    } else {\n      setMsg('');\n    }\n  }, [getState]);\n  useEffect(() => {\n    if (emailCheck !== null) {\n      UserCheck();\n    }\n  }, [emailCheck]);\n\n  const UserCheck = () => {\n    let {\n      userName\n    } = state;\n    let payload = {\n      \"emailid\": emailCheck ? userName : \"\",\n      \"mobileno\": !emailCheck ? userName : \"\",\n      \"type\": emailCheck ? \"emailid\" : \"mobileno\"\n    };\n    api.userExist(payload).then(res => {\n      console.log(res, 'resData');\n\n      if (res.success) {\n        setUserCheck(true);\n        setMsg('');\n        setApiCall(true);\n      } else {\n        setUserCheck(false);\n        setMsg(res.result);\n        setApiCall(false);\n        setTimeout(function () {\n          setMsg('');\n        }, 1000);\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n  }; // blur function   \n\n\n  const validate = (name, value) => {\n    let type = name;\n    let errorMsg = { ...error\n    };\n\n    if (type === \"userName\") {\n      let emailCheck = null;\n\n      if (value === \"\") {\n        errorMsg['userNameError'] = \"Please enter email id/phone number\";\n      } else if (numberText(value)) {\n        if (value.length !== 10) {\n          errorMsg['userNameError'] = \"Please enter 10 digit phone number\";\n          emailCheck = null;\n        } else {\n          errorMsg['userNameError'] = \"\";\n          emailCheck = false;\n        }\n      } else {\n        let EmailCheck = emailText(value);\n\n        if (!EmailCheck) {\n          errorMsg['userNameError'] = \"Please enter valid email id/phone number\";\n          emailCheck = null;\n        } else {\n          errorMsg['userNameError'] = \"\";\n          emailCheck = true;\n        }\n      }\n\n      setEmailCheck(emailCheck);\n      setError(errorMsg);\n    }\n\n    if (type === \"pwd\") {\n      if (value === \"\") {\n        errorMsg['pwdError'] = \"Please enter password\";\n      } else if (!pwdText(value)) {\n        errorMsg['pwdError'] = \"Entered password doesn't not match criteria \";\n      } else {\n        errorMsg['pwdError'] = \"\";\n      }\n\n      setError(errorMsg);\n    }\n\n    if (type === \"Cpwd\") {\n      if (value === \"\") {\n        errorMsg['CpwdError'] = \"Please enter password\";\n      } else if (!pwdText(value)) {\n        errorMsg['CpwdError'] = \"Entered password doesnt not match criteria\";\n      } else if (value !== state.pwd) {\n        errorMsg['CpwdError'] = \"Password and confirm password field should be match\";\n      } else {\n        errorMsg['CpwdError'] = \"\";\n      }\n\n      setError(errorMsg);\n    }\n  };\n\n  const FormValid = () => {\n    let isValid = false;\n    let errorMsg = { ...error\n    };\n    let {\n      userName,\n      pwd,\n      Cpwd\n    } = state;\n    let ECheck = emailText(userName);\n    let pwdcheck = pwdText(pwd);\n    let pwdcheck1 = pwdText(Cpwd);\n\n    if (userName === \"\") {\n      errorMsg['userNameError'] = \"Please enter email id/phone number\";\n    } else if (emailCheck && !ECheck) {\n      errorMsg['userNameError'] = \"Please  enter valid email id/phone number\";\n    } else if (!emailCheck && userName.length !== 10) {\n      errorMsg['userNameError'] = \"Please enter email id/phone number\";\n    } else if (pwd === \"\" && apiCall) {\n      errorMsg['pwdError'] = \"Please enter password\";\n    } else if (!pwdcheck && apiCall) {\n      errorMsg['pwdError'] = \"Entered password doesn't not match criteria\";\n    } else if (Cpwd === \"\" && apiCall) {\n      errorMsg['CpwdError'] = \"Please enter password\";\n    } else if (!pwdcheck1 && apiCall) {\n      errorMsg['CpwdError'] = \"Entered password doesn't not match criteria\";\n    } else if (pwd !== Cpwd && apiCall) {\n      errorMsg['CpwdError'] = \"Password and confirm password field should be match\";\n    } else if (userName === state.Cpwd && apiCall) {\n      errorMsg['CpwdError'] = \"Entered password does not match criteria\";\n    } else {\n      errorMsg['userNameError'] = \"\";\n      errorMsg['pwdError'] = \"\";\n      errorMsg['CpwdError'] = \"\";\n      isValid = true;\n\n      if (!apiCall) {\n        UserCheck();\n      }\n    }\n\n    setError(errorMsg);\n    return isValid;\n  };\n\n  const submitbtn = () => {\n    let checkF = FormValid();\n\n    if (checkF && apiCall) {\n      console.log(emailCheck, 'emailCheck');\n      let payload = {\n        \"emailid\": emailCheck ? state.userName : \"\",\n        \"mobileno\": !emailCheck ? state.userName : \"\",\n        \"type\": emailCheck ? \"emailid\" : \"mobileno\",\n        \"password\": state.Cpwd\n      };\n      dispatch(formSubmit(payload));\n    }\n  };\n\n  if (getSuccess) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/Detail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 12\n      }\n    }); // console.log(getStata,'getStata')\n  }\n\n  console.log(msg, 'MSG', emailCheck);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"contact\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 17\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(Input, {\n    label: \"EmailID / Phone\",\n    type: \"text\",\n    name: \"userName\",\n    value: state.userName,\n    onChange: HandlerChange,\n    validate: validate,\n    error: error['userNameError'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 17\n    }\n  }), userCheck ? /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    label: \"Password\",\n    type: \"password\",\n    name: \"pwd\",\n    value: state.pwd,\n    onChange: HandlerChange,\n    validate: validate,\n    error: error['pwdError'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 18\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    label: \"Confirm Password\",\n    type: \"password\",\n    name: \"Cpwd\",\n    value: state.Cpwd,\n    onChange: HandlerChange,\n    validate: validate,\n    error: error['CpwdError'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 18\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"note_txt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 16\n    }\n  }, \"   Note:\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 20\n    }\n  }), /*#__PURE__*/React.createElement(\"ol\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 20\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 21\n    }\n  }, \"\\u2022 Min:1 lowercase and 1 uppercase alphabet\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 21\n    }\n  }, \"\\u2022 Min: 1 number\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 21\n    }\n  }, \"\\u2022 Min: 1 special character\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 21\n    }\n  }, \"\\u2022 8-16 character length\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 21\n    }\n  }, \"\\u2022 Shouldn\\u2019t be the same as username\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 21\n    }\n  }, \"\\u2022 Shouldn\\u2019t be the same as last password\")))) : null, msg !== \"\" ? /*#__PURE__*/React.createElement(\"div\", {\n    class: \"alert alert-warning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 27\n    }\n  }, msg) : null, /*#__PURE__*/React.createElement(\"fieldset\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    name: \"submit\",\n    type: \"button\",\n    onClick: submitbtn,\n    id: \"contact-submit\",\n    \"data-submit\": \"...Sending\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 17\n    }\n  }, \"Submit\"))));\n};\n\nexport default withRouter(Landing);","map":{"version":3,"sources":["/Users/apple/Desktop/task/dzerv-task/assignment/src/component/organism/Home/index.js"],"names":["React","useState","useEffect","Fragment","Input","emailText","numberText","pwdText","formSubmit","MsgClear","useSelector","useDispatch","ApiAll","withRouter","Redirect","api","Landing","props","dispatch","getState","state","Auth","userInfo","getSuccess","pageSuccess","setState","userName","pwd","Cpwd","error","setError","emailCheck","setEmailCheck","userCheck","setUserCheck","msg","setMsg","apiCall","setApiCall","HandlerChange","name","value","allState","console","log","setTimeout","UserCheck","payload","userExist","then","res","success","result","catch","validate","type","errorMsg","length","EmailCheck","FormValid","isValid","ECheck","pwdcheck","pwdcheck1","submitbtn","checkF"],"mappings":"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","sourcesContent":["import React,{useState,useEffect,Fragment} from 'react';\nimport Input from '../../molecules/input';\nimport {emailText,numberText,pwdText} from '../../../helper/method';\nimport {formSubmit,MsgClear} from '../../../store/Action/master';\nimport {useSelector, useDispatch} from 'react-redux';\nimport ApiAll from '../../../services/loginApi';\nimport {withRouter,Redirect} from 'react-router-dom';\nlet  api= new ApiAll();\n\nconst Landing=(props)=>{\n    let dispatch=useDispatch();\n    let getState=useSelector(state=>state.Auth.userInfo);\n    let getSuccess=useSelector(state=>state.Auth.pageSuccess);\n    const [state,setState]=useState({userName:\"\",pwd:\"\",Cpwd:\"\"}) // form state\n    const [error,setError]=useState({});\n    const [emailCheck,setEmailCheck]=useState(null); // email or phone number bases on true false\n    const [userCheck,setUserCheck]=useState(null); // check existing user\n    const [msg,setMsg]=useState(''); // api false msg\n    const [apiCall,setApiCall]=useState(false);\n    \n\n    // form onChange\n    const HandlerChange=(name,value)=>{\n        let allState={...state}\n        if(name===\"userName\"){\n            setEmailCheck(null);\n        }\n        allState[name]=value\n        setState(allState)\n       }\n       useEffect(()=>{\n           console.log(getState,'getState.userInfo')\n        if(getState!==\"\"){\n            setMsg(getState)\n            setTimeout(function(){ \n                setMsg('')\n                dispatch(MsgClear(''))\n            }, 1000);\n        }else{\n            setMsg('')\n        }\n       },[getState])\n\n       useEffect(()=>{\n          \n        if(emailCheck!==null ){\n            UserCheck();\n        }\n       },[emailCheck])  \n       \n    const UserCheck=()=>{\n       \n        let {userName}=state;\n        let payload={    \n            \"emailid\":emailCheck?userName:\"\",\n            \"mobileno\": !emailCheck?userName:\"\",\n            \"type\": emailCheck?\"emailid\":\"mobileno\",\n        }\n        api.userExist(payload).then(res=>{\n            console.log(res,'resData')\n            if(res.success){\n                setUserCheck(true)\n                setMsg('');\n                setApiCall(true)\n            }else{\n                setUserCheck(false)\n                setMsg(res.result)\n                setApiCall(false)\n                setTimeout(function(){ \n                    setMsg('')\n                }, 1000);\n            }\n        }).catch(error=>{\n            console.log(error)\n        })\n    }   \n\n    // blur function   \n    const validate=(name,value)=>{\n        let type =name;\n        let errorMsg={...error};\n        \n        if(type===\"userName\"){\n            let emailCheck=null;\n            if(value===\"\"){\n                errorMsg['userNameError']=\"Please enter email id/phone number\"\n            }else if(numberText(value)){\n                if(value.length!==10){\n                    errorMsg['userNameError']=\"Please enter 10 digit phone number\";\n                    emailCheck=null;\n                }else{\n                    errorMsg['userNameError']=\"\";\n                    emailCheck=false;\n                }\n\n            }else{\n                let EmailCheck= emailText(value);\n                if(!EmailCheck){\n                    errorMsg['userNameError']=\"Please enter valid email id/phone number\"\n                    emailCheck=null;\n                }else{\n                    errorMsg['userNameError']=\"\";\n                    emailCheck=true;\n                }\n            }\n            setEmailCheck(emailCheck)\n            setError(errorMsg)\n        }\n        if(type===\"pwd\"){\n            if(value===\"\"){\n                errorMsg['pwdError']=\"Please enter password\"\n            }else if(!pwdText(value)){\n                errorMsg['pwdError']=\"Entered password doesn't not match criteria \"\n            }else{\n                errorMsg['pwdError']=\"\";\n            }\n            setError(errorMsg)\n           \n        }   \n\n        if(type===\"Cpwd\"){\n            if(value===\"\"){\n                errorMsg['CpwdError']=\"Please enter password\"\n            }else if(!pwdText(value)){\n                errorMsg['CpwdError']=\"Entered password doesnt not match criteria\"\n            }\n            else if(value!==state.pwd){\n                errorMsg['CpwdError']=\"Password and confirm password field should be match\"   \n            }\n            else{\n                errorMsg['CpwdError']=\"\";\n            }\n            setError(errorMsg)\n        }\n        \n        \n    } \n \n const FormValid=()=>{\n     let isValid=false;\n     let errorMsg={...error};\n     let {userName,pwd,Cpwd}=state;\n     let ECheck= emailText(userName);\n    \n    let pwdcheck=pwdText(pwd);\n    let pwdcheck1=pwdText(Cpwd);\n  \n      if(userName===\"\"){\n        errorMsg['userNameError']=\"Please enter email id/phone number\"\n      }else if(emailCheck && !ECheck ){\n            errorMsg['userNameError']=\"Please  enter valid email id/phone number\"\n        }\n       \n        else if(!emailCheck && userName.length!==10){\n            errorMsg['userNameError']=\"Please enter email id/phone number\"\n        }else if(pwd===\"\" && apiCall){\n            errorMsg['pwdError']=\"Please enter password\"\n        }else if(!pwdcheck && apiCall){\n            errorMsg['pwdError']=\"Entered password doesn't not match criteria\"\n        }\n        else if(Cpwd===\"\" && apiCall){\n            errorMsg['CpwdError']=\"Please enter password\"\n        }else if(!pwdcheck1 && apiCall){\n            errorMsg['CpwdError']=\"Entered password doesn't not match criteria\"\n        }else if(pwd!==Cpwd && apiCall){\n            errorMsg['CpwdError']=\"Password and confirm password field should be match\"   \n        }else if(userName===state.Cpwd && apiCall){\n            errorMsg['CpwdError']=\"Entered password does not match criteria\"   \n        }\n        else{\n           \n            errorMsg['userNameError']=\"\";\n            errorMsg['pwdError']=\"\";\n            errorMsg['CpwdError']=\"\";\n            isValid=true;\n        if(!apiCall){\n            UserCheck()\n          }\n        }\n        setError(errorMsg)\n        return isValid\n\n}  \n   \n    \n  const submitbtn=()=>{\n      let checkF=FormValid();\n      if(checkF && apiCall){\n          console.log(emailCheck,'emailCheck')\n        \n          let payload=\n            {    \n                \"emailid\": emailCheck?state.userName:\"\",\n                \"mobileno\":!emailCheck?state.userName:\"\",\n                \"type\": emailCheck?\"emailid\":\"mobileno\",\n                \"password\": state.Cpwd            \n            }\n          \n        dispatch(formSubmit(payload))\n      }\n      \n  }   \n  if(getSuccess){\n    return <Redirect to=\"/Detail\" />\n     // console.log(getStata,'getStata')\n  }\nconsole.log(msg,'MSG',emailCheck)\n    return(\n        <div className=\"container\">  \n            <div id=\"contact\">\n                <h3>Login</h3>\n               \n                <Input\n                    label=\"EmailID / Phone\"\n                    type='text'\n                    name=\"userName\"\n                    value={state.userName}\n                    onChange={HandlerChange}\n                    validate={validate}\n                    error={error['userNameError']}\n                />\n              {userCheck?\n              <Fragment> \n                 <Input\n                    label=\"Password\"\n                    type='password'\n                    name=\"pwd\"\n                    value={state.pwd}\n                    onChange={HandlerChange}\n                    validate={validate}\n                    error={error['pwdError']}\n                />\n                 <Input\n                    label=\"Confirm Password\"\n                    type='password'\n                    name=\"Cpwd\"\n                    value={state.Cpwd}\n                    onChange={HandlerChange}\n                    validate={validate}\n                    error={error['CpwdError']}\n                />\n               \n               \n               \n               <p className=\"note_txt\">   Note:\n                   <br/>\n                   <ol>\n                    <li>• Min:1 lowercase and 1 uppercase alphabet</li>\n                    <li>• Min: 1 number</li>\n                    <li>• Min: 1 special character</li>\n                    <li>• 8-16 character length</li>\n                    <li>• Shouldn’t be the same as username</li>\n                    <li>• Shouldn’t be the same as last password</li>\n                    </ol>\n                    </p>\n                </Fragment> :null}\n                {msg!==\"\"?<div class=\"alert alert-warning\">{msg}</div>:null}\n                \n                <fieldset>\n                 {/* {getState.fStatus?\"Please Wait\":null}    */}\n                <button name=\"submit\" type=\"button\" onClick={submitbtn} id=\"contact-submit\" data-submit=\"...Sending\">Submit</button>\n                </fieldset>\n            </div>\n            </div>\n    )\n}\nexport default withRouter(Landing)"]},"metadata":{},"sourceType":"module"}